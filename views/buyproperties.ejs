<!DOCTYPE html>
<html>
<head>
  <% include partials/head %>
</head>
<body>
<header>
  <% include partials/header %>
</header>

<%
  function getIconClass(city_type){
    var returnVal = "fa-cube"
    switch(city_type){
      case "Other":
        returnVal = "fa-cube";
      break;
      case "Provincial capital":
        returnVal = "fa-cubes";
      break;
      case "Provincial capital enclave":
        returnVal = "fa-building";
      break;
      case "National and provincial capital":
        returnVal = "fa-bank";
      break;
      case "National capital":
        returnVal = "fa-globe";
      break;
      case "National capital and provincial capital enclave":
        returnVal = "fa-dollar";
      break;
    }
    return returnVal;
  }
%>

<div class="container col-sm-12">
  <div class="row border">
    <div class="col-sm-3 buy_info">
      <div>Total Properties Owned</div>
      <div class="buy_info_num"><%= user.property.total_properties %></div>
    </div>
    <div class="col-sm-3 buy_info">
      <div>Maximum Properties</div>
      <div class="buy_info_num"><%= user.property.max_properties %></div>
    </div>
    <div class="col-sm-3 buy_info">
      <div>Properties Pending</div>
      <div class="buy_info_num"><%= user.property.total_pending %></div>
    </div>
    <div class="col-sm-3 buy_info">
      <div>Maximum Pending</div>
      <div class="buy_info_num"><%= user.property.max_pending %></div>
    </div>
  </div>
  <ul class="list-group">
    <% for(var i = 0; i < results.length; i++){ %>
    <%
      var city_name = results[i].city_name;
      var percent_owned = results[i].percent_owned;
      var _id = results[i]._id;
      var icon_class = getIconClass(results[i].city_type);
    %>
    <a href="/viewproperty/<%= _id %>"><li class="list-group-item"><span class="fa <%= icon_class %>"></span> <%= city_name %><span class="badge"><%= percent_owned %>% Owned</span></li></a>

    <% } %>
  </ul>
</div>
  
  <footer>
    <% include partials/footer %>
  </footer>

</body>
</html>
